<html>
    <head>
        <script src="https://meet.jit.si/external_api.js"></script>
    </head>
    <body>
        <div id="jitsi-container"></div>
        <script>
            var api = null;

                if (typeof JitsiMeetExternalAPI !== 'undefined') { // Ensure the API is loaded
                    var domain = "meet.jit.si";
                    var options = {
                        roomName: "Weddle",
                        width: "100%",
                        height: "100%",
                        parentNode: document.querySelector("#jitsi-container"),
                        interfaceConfigOverwrite: {
                            SHOW_JITSI_WATERMARK: false
                        }
                    };
                    api = new JitsiMeetExternalAPI(domain, options);
                } else {
                    console.error("JitsiMeetExternalAPI is not defined.");
                }


            function endMeeting() {
                if (api) {
                    api.executeCommand('hangup'); // Ends the meeting
                } else {
                    console.error("Jitsi API is not initialized.");
                }
            }

            // Expose the start and end functions to PyQt6 or the global window object
            window.endMeeting = endMeeting; 
        </script>
    </body>
</html>
